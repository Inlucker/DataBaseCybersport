\chapter{Аналитическая часть}
\label{cha:analysis}

В данном разделе произведена формализация поставленного задания, определен необходимый функционал програмного обеспечения, описаны роли пользователей программы с use-case диаграммой, проанализированы существующие аналоги, приведена ER-диаграмма базы данных, произведен анализ существующих моделей базы данных, а также выбрана конкретная модель для данного проекта.

\section{Формализация поставленного задания}
Поскольку необходимо разработать программу для организации турниров по киберспортивной дисциплине “Dota 2” с возможностью управления ими, то необходимо понять какую информацию необходимо хранить в базе данных. Очевидно, самой важной будет информация о турнирах. Турниры состоят из матчей, матчи проходят между командами, команды состоят из игроков. Кроме того у каждой команды есть спонсор, а у каждого матча -- комментатор, который в свою очередь работает на какую-то студию. Также необходимо предусмотреть то, что у каждого турнира имеется организатор, у каждой студии или команды -- владелец.

В соответствии с поставленной задачей, для будущего приложения необходимо реализовать следующий функционал:
\begin{itemize}
	\item создание турниров;
	\item создание и редактирование матчей;
	\item добавление свободных игроков в команду;
	\item удаление игроков из команды;
	\item добавление свободных комментаторов в студию;
	\item удаление комментаторов из студии.
\end{itemize}

\section{Распределение ролей пользователей}
В соответствии с описанным выше функционалом, можно распределить роли описанным ниже способом.

Организатор турниров может:
\begin{itemize}
	\item создавать турниры;
	\item выбирать участвующие команды;
	\item создавать матчи для своего турнира.
\end{itemize}

Капитан команды может:
\begin{itemize}
	\item добавлять свободных игроков в команду;
	\item удалять игроков из своей команды.
\end{itemize}

Владелец студии может:
\begin{itemize}
	\item добавлять свободных; комментаторов в свою студию
	\item удалять комментаторов из своей студии.
\end{itemize}

Игроки и комментаторы не являются пользователями данного ПО, т.к. оно предназначено именно для организации турниров и их управления, а игроки с комментаторами являются их непосредственными участниками.

\newpage
Ниже приведена use-case диаграмма.
\imgsc{H}{1}{use-case_db.pdf}{use-case диаграмма}

Кроме этого, очевидно, необходима роль администратора базы данных, который будет иметь доступ ко всему, чтобы следить за организацией работы базы данных.

\newpage
\section{ER-диаграмма базы данных}
На основании описанных выше рассуждений можно построить диаграмму сущностей и отношений между ними. Ниже, на рисунке \ref{img:ER-diagBD} приведена ER-диаграмма базы данных.

\imgsc{H}{0.5}{ER-diagBD}{ER-диаграмма базы данных}

\section{Анализ существующих аналогов}

%Faceit - \url{https://www.faceit.com/}

Faceit - это независимая платформа для проведения профессиональных соревнований и любительских игр, которая была основана в 2012 году. Faceit управляет лигами киберспорта в таких играх как, Counter-Strike: Global Offensive, League of Legends, Rocket League, Dota 2 и PUBG.

%Epulze - \url{https://epulze.com/}

Epulze - это платформа для киберспортивных соревнований, где вы можете участвовать в ежедневных автоматических турнирах и соревнованиях, соревнуясь за призы. Данная платформа поддерживает такие дисциплины как Dota 2, CS:GO, Valorant, Mobile Legends и Rocket League.

%Challengermode - \url{https://www.challengermode.com/}

Challengermode — шведская технологическая компания, основанная в 2014-м году с миссией сделать киберспорт доступным для геймеров. Challengermode строит платформу, которая обеспечивает фундаментальную инфраструктуру онлайн-киберспорта для всех соответствующих заинтересованных сторон в рамках экосистемы. 
Разработанная технология автоматизирует сложную турнирную инфраструктуру с помощью интеграции игр и позволяет геймерам легко играть в соревнованиях, турнирах и лигах на любом устройстве или консоли, одновременно позволяя создавать сообщества и монетизировать их в масштабе организаторов всех видов.

%Добавить таблицу со сравннием

Ниже в таблице \ref{tab:compare} приведено сравнение данных платформ.

\begin{table}[H]
	\caption{Анализ аналогичных решений}
	\label{tab:compare}
	\centering
	\resizebox{\columnwidth}{!}{
		\begin{tabular}{|c|c|c|c|}
			\hline
			Название & \specialcell{Возможность создавать \\ свои турниры} & \specialcell{Наличие desktop \\ приложения} & \specialcell{Отсутствие \\ платного контента} \\
			\hline
			Faceit & + & + & - \\
			\hline
			Epulze & - & - & + \\
			\hline
			Challengermode & + & - & + \\
			\hline
			Данное приложение & + & + & + \\
			\hline
	\end{tabular}}
\end{table}

\section{Выбор модели базы данных}
Модель данных — это абстрактное, самодостаточное, логическое определение объектов, операторов и прочих элементов, в совокупности составляющих абстрактную машину доступа к данным, с которой взаимодействует пользователь. Эти объекты позволяют моделировать структуру данных, а операторы — поведение данных. Каждая БД и СУБД строится на основе некоторой явной или неявной модели данных \cite{Deit book}.

В ходе данной работы были проанализированы следующие модели базы данных
\begin{itemize}
	\item реляционная;
	\item иерархическая;
	\item сетевая.
\end{itemize}

\subsection{Реляционная модель базы данных}
Реляционная модель данных является совокупностью данных и состоит из набора двумерных таблиц. При табличной организации отсутствует иерархия элементов. Таблицы состоят из строк – записей и столбцов – полей. На пересечении строк и столбцов находятся конкретные значения. Для каждого поля определяется множество его значений. За счет возможности просмотра строк и столбцов в любом порядке достигается гибкость выбора подмножества элементов.

Реляционная модель является удобной и наиболее широко используемой формой представления данных.

%\imgsc{H}{1.8}{relativedb}{cтруктура реляционной модели данных}

\subsection{Иерархическая модель базы данных}
В иерархической модели данных используется представление базы данных в виде древовидной структуры, состоящей из объектов различных уровней. Между объектами существуют связи, каждый объект может включать в себя несколько объектов более низкого уровня. Такие объекты находятся в отношении предка к потомку, при этом возможна ситуация, когда объект-предок имеет несколько потомков, тогда как у объекта-потомка обязателен только один предок.

%\imgsc{H}{1.8}{hierarchicaldb}{cтруктура иерархической модели данных}

\subsection{Cетевая модель базы данных}
В сетевой модели данных, в отличии от иерархической, у потомка может иметься любое число предков. Сетевая база данных состоит из набора экземпляров определенного типа записи и набора экземпляров определенного типа связей между этими записями.

Главным недостатком сетевой модели данных являются жесткость и высокая сложность схемы базы данных, построенной на основе этой модели. Так как логика процедуры выбора данных зависит от физической организации этих данных, то эта модель не является полностью независимой от приложения. Иначе говоря, если будет необходимо изменить структуру данных, то нужно будет изменять и приложение.

%\imgsc{H}{1.8}{networkdb}{структура сетевой модели данных}

\section*{Вывод из аналитической части}
Поскольку реляционная модель базы данных является наиболее широко используемой и удобной, а также имеет возможность изменения базы данных без глобальных изменений программного обеспечения, то для реализации данного проекта была выбрана именно она.

В данном разделе была произведена формализация поставленной задачи, описан необходимый функционал с распределением по ролям, приведена use-case диаграмма, проанализированы существующие аналоги, приведена \newline ER-диаграмма базы данных, произведен анализ модели базы данных и выбрана реляционная модель.